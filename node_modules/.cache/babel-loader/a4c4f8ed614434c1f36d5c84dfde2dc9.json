{"ast":null,"code":"var _jsxFileName = \"/home/chetan/Desktop/Projects/Project developer/Frontend/src/Components/VBarchart/VBarchart.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from 'react';\nimport { Container, Col, Row } from 'react-bootstrap';\nimport { Bar } from 'react-chartjs-2';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport { selectStocks } from '../../redux/ConfigureStore'; //   interface Props {\n//       graphData?: number\n//   }\n//   export interface ReqObj {\n//     stockNames: string[];\n//     purchaseDates: string[];\n//     quantitiesPurchased: number[];\n//   }\n//   export interface ResObj {\n//     FSV0: number;\n//     FSV1: number;\n//     prTotalI: number;\n//     PercentAR: number;\n//     R: number;\n//     StockName: string;\n//   }\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst sendPostRequest = async (url, payload) => {\n  let resp = null;\n\n  try {\n    resp = await axios.post(url, payload); // console.log(Object.entries(resp.data));\n  } catch (err) {\n    // Handle Error Here\n    console.error(err);\n  }\n\n  return resp;\n}; // const stockN = ['GME', 'AAPL', 'AMC'];\n\n\nconst formatDate = dateString => {\n  const dArr = dateString.split('-');\n  return `${dArr[2]}/${dArr[1]}/${dArr[0]}`;\n};\n\nconst VBarchart = () => {\n  _s();\n\n  const [dataArray, setDataArray] = useState([]);\n  const stocks = useSelector(selectStocks);\n  console.log(stocks); // const [stockNArray, setStockNArray] = useState<string[]>([]);\n  // const reqObj = {\n  //   stockNames: ['GME', 'AAPL', 'AMC'],\n  //   purchaseDates: ['26/03/2020', '26/03/2020', '26/03/2020'],\n  //   quantitiesPurchased: [15, 2, 10],\n  // };\n\n  useEffect(() => {\n    sendPostRequest('http://localhost:5000/mayPortfolioRequest1', {\n      stockNames: stocks === null || stocks === void 0 ? void 0 : stocks.map(stock => stock.stockName),\n      purchaseDates: stocks === null || stocks === void 0 ? void 0 : stocks.map(stock => stock.purchaseDate).map(date => formatDate(date)),\n      quantitiesPurchased: stocks === null || stocks === void 0 ? void 0 : stocks.map(stock => stock.qttPurchased)\n    }).then(resp => {\n      console.log(resp);\n      const respArray = [];\n\n      if (resp != null) {\n        for (const [key, value] of Object.entries(resp.data)) {\n          if (key === 'errMessage') {\n            throw value;\n          }\n\n          const stringResObj = JSON.stringify(value);\n          const resObj = JSON.parse(stringResObj);\n          console.log(`${key}: ${resObj.R}`);\n          respArray.push(resObj.R);\n        }\n\n        setDataArray(respArray);\n        console.log(dataArray);\n      }\n    });\n  }, []);\n  const graphParams = {\n    labels: stocks === null || stocks === void 0 ? void 0 : stocks.map(stock => stock.stockName),\n    datasets: [{\n      data: dataArray,\n      backgroundColor: ['rgba( 83, 192, 125 )'],\n      borderColor: ['rgba(75, 192, 192, 1)'],\n      borderWidth: 1\n    }]\n  };\n  const options = {\n    plugins: {\n      legend: {\n        display: false\n      }\n    },\n    maintainAspectRatio: false,\n    responsive: false,\n    scales: {\n      yAxes: [{\n        ticks: {\n          beginAtZero: true\n        }\n      }]\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center\",\n            children: \"What returns your stocks registered monthly the past year\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Bar, {\n            type: \"bar\",\n            data: graphParams,\n            options: options,\n            height: 188,\n            width: 375,\n            className: \"mx-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Bar, {\n            type: \"bar\",\n            data: graphParams,\n            options: options,\n            height: 188,\n            width: 375,\n            className: \"mx-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Bar, {\n            type: \"bar\",\n            data: graphParams,\n            options: options,\n            height: 188,\n            width: 375,\n            className: \"mx-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(VBarchart, \"15/GWuDHu9eJ4jDfVdcYwzc7ISw=\", false, function () {\n  return [useSelector];\n});\n\n_c = VBarchart;\nexport default VBarchart;\n\nvar _c;\n\n$RefreshReg$(_c, \"VBarchart\");","map":{"version":3,"names":["React","Fragment","useEffect","useState","Container","Col","Row","Bar","axios","useSelector","selectStocks","sendPostRequest","url","payload","resp","post","err","console","error","formatDate","dateString","dArr","split","VBarchart","dataArray","setDataArray","stocks","log","stockNames","map","stock","stockName","purchaseDates","purchaseDate","date","quantitiesPurchased","qttPurchased","then","respArray","key","value","Object","entries","data","stringResObj","JSON","stringify","resObj","parse","R","push","graphParams","labels","datasets","backgroundColor","borderColor","borderWidth","options","plugins","legend","display","maintainAspectRatio","responsive","scales","yAxes","ticks","beginAtZero"],"sources":["/home/chetan/Desktop/Projects/Project developer/Frontend/src/Components/VBarchart/VBarchart.jsx"],"sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\nimport { Container, Col, Row } from 'react-bootstrap';\nimport { Bar } from 'react-chartjs-2';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport { selectStocks } from '../../redux/ConfigureStore';\n\n//   interface Props {\n//       graphData?: number\n//   }\n\n//   export interface ReqObj {\n//     stockNames: string[];\n//     purchaseDates: string[];\n//     quantitiesPurchased: number[];\n//   }\n\n//   export interface ResObj {\n//     FSV0: number;\n//     FSV1: number;\n//     prTotalI: number;\n//     PercentAR: number;\n//     R: number;\n//     StockName: string;\n//   }\n\nconst sendPostRequest = async (url, payload) => {\n  let resp = null;\n  try {\n    resp = await axios.post(url, payload);\n    // console.log(Object.entries(resp.data));\n  } catch (err) {\n    // Handle Error Here\n    console.error(err);\n  }\n  return resp;\n};\n\n// const stockN = ['GME', 'AAPL', 'AMC'];\n\nconst formatDate = (dateString) => {\n  const dArr = dateString.split('-');\n  return `${dArr[2]}/${dArr[1]}/${dArr[0]}`;\n};\nconst VBarchart = () => {\n  const [dataArray, setDataArray] = useState([]);\n  const stocks = useSelector(selectStocks);\n\n  console.log(stocks);\n  // const [stockNArray, setStockNArray] = useState<string[]>([]);\n\n  // const reqObj = {\n  //   stockNames: ['GME', 'AAPL', 'AMC'],\n  //   purchaseDates: ['26/03/2020', '26/03/2020', '26/03/2020'],\n  //   quantitiesPurchased: [15, 2, 10],\n  // };\n\n  useEffect(() => {\n    sendPostRequest(\n      'http://localhost:5000/mayPortfolioRequest1',\n      {\n        stockNames: stocks?.map((stock) => stock.stockName),\n        purchaseDates: stocks?.map((stock) => stock.purchaseDate).map((date) => formatDate(date)),\n        quantitiesPurchased: stocks?.map((stock) => stock.qttPurchased),\n      },\n    ).then((resp) => {\n      console.log(resp);\n      const respArray = [];\n      if (resp != null) {\n        for (const [key, value] of Object.entries(resp.data)) {\n          if (key === 'errMessage') {\n            throw value;\n          }\n          const stringResObj = JSON.stringify(value);\n          const resObj = JSON.parse(stringResObj);\n          console.log(`${key}: ${resObj.R}`);\n          respArray.push(resObj.R);\n        }\n        setDataArray(respArray);\n        console.log(dataArray);\n      }\n    });\n  }, []);\n\n  const graphParams = {\n    labels: stocks?.map((stock) => stock.stockName),\n    datasets: [\n      {\n        data: dataArray,\n        backgroundColor: [\n          'rgba( 83, 192, 125 )',\n        ],\n        borderColor: [\n          'rgba(75, 192, 192, 1)',\n        ],\n        borderWidth: 1,\n      },\n    ],\n  };\n\n  const options = {\n    plugins: {\n      legend: { display: false },\n    },\n    maintainAspectRatio: false,\n    responsive: false,\n    scales: {\n      yAxes: [\n        {\n          ticks: {\n            beginAtZero: true,\n          },\n        },\n      ],\n    },\n  };\n\n  return (\n    <>\n      <Container>\n        <Row>\n          <Col>\n            <p className=\"text-center\">What returns your stocks registered monthly the past year</p>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Bar\n              type=\"bar\"\n              data={graphParams}\n              options={options}\n              height={188}\n              width={375}\n              className=\"mx-auto\"\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Bar\n              type=\"bar\"\n              data={graphParams}\n              options={options}\n              height={188}\n              width={375}\n              className=\"mx-auto\"\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <Bar\n              type=\"bar\"\n              data={graphParams}\n              options={options}\n              height={188}\n              width={375}\n              className=\"mx-auto\"\n            />\n          </Col>\n        </Row>\n      </Container>\n\n    </>\n  );\n};\n\nexport default VBarchart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}